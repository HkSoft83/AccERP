import{c as U,r as S,R as se,j as e,N,O as y,Q as D,B as L}from"./index-887e451b.js";import{I as d}from"./input-3a530f5f.js";import{T as H,a as z,b as P,c as j,d as Q,e as p}from"./table-bbdff544.js";import{A as C}from"./arrow-up-down-bb33c7c8.js";import{L as x}from"./label-3710b276.js";import{S as w,a as M,b as V,c as k,d as F}from"./select-65665a24.js";import{m as Y}from"./mockAccounts-94c823eb.js";import{T as $,a as G,b as R,c as E}from"./tabs-27fe951e.js";import{e as J,g as K,f as W,D as X,a as Z}from"./dialog-fe1541e2.js";import"./check-fc168ae3.js";import"./index-a680e625.js";const b=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),_=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ae=({assets:f})=>{const[t,i]=S.useState({key:null,direction:"ascending"}),[n,g]=S.useState({}),r=s=>{let c="ascending";t.key===s&&t.direction==="ascending"&&(c="descending"),i({key:s,direction:c})},o=(s,c)=>{g(h=>({...h,[s]:c}))},a=s=>{const c=parseFloat(s.amount)||0,h=parseFloat(s.salvageValue)||0,m=parseInt(s.usefulLife,10)||1,u=new Date(s.purchaseDate),v=new Date,A=(v.getFullYear()-u.getFullYear())*12+(v.getMonth()-u.getMonth()),I=(c-h)/(m*12)*A,O=c-I;return O>h?O.toFixed(2):h.toFixed(2)},l=se.useMemo(()=>{let s=[...f];return Object.keys(n).forEach(c=>{const h=n[c].toLowerCase();if(h){const m=h.split(",").map(u=>u.trim()).filter(u=>u.length>0);m.length>0&&(s=s.filter(u=>{const v=String(u[c]).toLowerCase();return m.some(A=>v.includes(A))}))}}),t.key&&s.sort((c,h)=>{let m=c[t.key],u=h[t.key];if(["amount","usefulLife","salvageValue"].includes(t.key))m=parseFloat(m)||0,u=parseFloat(u)||0;else if(["purchaseDate"].includes(t.key))m=new Date(m).getTime(),u=new Date(u).getTime();else{if(t.key==="depreciationRate")return m=parseFloat(c.usefulLife)||0,u=parseFloat(h.usefulLife)||0,t.direction==="ascending"?m-u:u-m;if(t.key==="netBookValue")m=parseFloat(a(c))||0,u=parseFloat(a(h))||0;else if(t.key==="accumulatedDepreciation"){const v=A=>{const T=parseFloat(A.amount)||0,I=parseFloat(A.salvageValue)||0,O=parseInt(A.usefulLife,10)||1,q=new Date(A.purchaseDate),B=new Date,ee=(B.getFullYear()-q.getFullYear())*12+(B.getMonth()-q.getMonth());return(T-I)/(O*12)*ee};m=v(c)||0,u=v(h)||0}}return m<u?t.direction==="ascending"?-1:1:m>u?t.direction==="ascending"?1:-1:0}),s},[f,t,n]);return e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Fixed Asset Master Register"}),e.jsxs(H,{className:"border border-collapse",children:[e.jsx(z,{children:e.jsxs(P,{children:[e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Asset Name",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("name")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter name...",value:n.name||"",onChange:s=>o("name",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Tag No",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("tagSerialNumber")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter tag no...",value:n.tagSerialNumber||"",onChange:s=>o("tagSerialNumber",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Category",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("category")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter category...",value:n.category||"",onChange:s=>o("category",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Location",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("assetLocation")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter location...",value:n.assetLocation||"",onChange:s=>o("assetLocation",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Purchase Date",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("purchaseDate")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter date...",value:n.purchaseDate||"",onChange:s=>o("purchaseDate",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Purchase Price",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("amount")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter price...",value:n.amount||"",onChange:s=>o("amount",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Useful Life",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("usefulLife")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter life...",value:n.usefulLife||"",onChange:s=>o("usefulLife",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Salvage Value",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("salvageValue")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter value...",value:n.salvageValue||"",onChange:s=>o("salvageValue",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Depreciation Method",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("depreciationMethod")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter method...",value:n.depreciationMethod||"",onChange:s=>o("depreciationMethod",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Depreciation Rate",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("depreciationRate")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter rate...",value:n.depreciationRate||"",onChange:s=>o("depreciationRate",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Accumulated Depreciation",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("accumulatedDepreciation")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter...",value:n.accumulatedDepreciation||"",onChange:s=>o("accumulatedDepreciation",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Net Book Value",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("netBookValue")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter...",value:n.netBookValue||"",onChange:s=>o("netBookValue",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Status",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("status")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter status...",value:n.status||"",onChange:s=>o("status",s.target.value),className:"mt-1"})})]})]})}),e.jsx(j,{className:"border text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:["Disposal Date",e.jsx(C,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:()=>r("disposalDate")}),e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(b,{className:"ml-2 h-4 w-4 cursor-pointer"})}),e.jsx(D,{className:"w-48 p-2",children:e.jsx(d,{placeholder:"Filter date...",value:n.disposalDate||"",onChange:s=>o("disposalDate",s.target.value),className:"mt-1"})})]})]})})]})}),e.jsx(Q,{children:l.map(s=>e.jsxs(P,{children:[e.jsx(p,{className:"border text-center",children:s.name}),e.jsx(p,{className:"border text-center",children:s.tagSerialNumber}),e.jsx(p,{className:"border text-center",children:s.category}),e.jsx(p,{className:"border text-center",children:s.assetLocation}),e.jsx(p,{className:"border text-center",children:s.purchaseDate}),e.jsx(p,{className:"border text-center",children:s.amount}),e.jsx(p,{className:"border text-center",children:s.usefulLife}),e.jsx(p,{className:"border text-center",children:s.salvageValue}),e.jsx(p,{className:"border text-center",children:s.depreciationMethod}),e.jsxs(p,{className:"border text-center",children:[(1/(parseFloat(s.usefulLife)||1)*100).toFixed(2),"%"]}),e.jsx(p,{className:"border text-center",children:(()=>{const c=parseFloat(s.amount)||0,h=parseFloat(s.salvageValue)||0,m=parseInt(s.usefulLife,10)||1,u=new Date(s.purchaseDate),v=new Date,A=(v.getFullYear()-u.getFullYear())*12+(v.getMonth()-u.getMonth());return((c-h)/(m*12)*A).toFixed(2)})()}),e.jsx(p,{className:"border text-center",children:a(s)}),e.jsx(p,{className:"border text-center",children:s.status}),e.jsx(p,{className:"border text-center",children:s.disposalDate})]},s.id))})]})]})},te=({addAsset:f})=>{const[t,i]=S.useState({name:"",category:"",purchaseDate:"",amount:"",vendorName:"",purchaseMode:"",paymentMode:"",usefulLife:"",salvageValue:"",depreciationMethod:"Straight Line",frequency:"",depreciationRate:"",assetLocation:"",tagSerialNumber:""}),[n,g]=S.useState([]);S.useEffect(()=>{let a=[],l="";t.purchaseMode==="Cash Purchase"?(a=Y.filter(s=>s.category==="Cash"),a.length>0&&(l=a[0].name)):t.purchaseMode==="Bank Purchase"&&(a=Y.filter(s=>s.category==="Bank")),g(a),i(s=>({...s,paymentMode:l}))},[t.purchaseMode]),S.useEffect(()=>{const{amount:a,usefulLife:l,salvageValue:s,depreciationMethod:c}=t;if(console.log("Depreciation useEffect triggered:"),console.log("Amount:",a),console.log("Useful Life:",l),console.log("Salvage Value:",s),console.log("Depreciation Method:",c),c==="Straight Line"){const h=parseFloat(a),m=parseFloat(l),u=parseFloat(s);if(console.log("Parsed Purchase Amount:",h),console.log("Parsed Useful Life:",m),console.log("Parsed Salvage Value:",u),!isNaN(h)&&!isNaN(m)&&!isNaN(u)&&m>0&&h>0){const v=(h-u)/m,A=v/h*100;console.log("Annual Depreciation:",v),console.log("Calculated Rate:",A),i(T=>({...T,depreciationRate:A.toFixed(2)}))}else console.log("Invalid input for calculation. Clearing depreciation rate."),i(v=>({...v,depreciationRate:""}))}else console.log("Depreciation method is not Straight Line. Clearing depreciation rate."),i(h=>({...h,depreciationRate:""}))},[t.amount,t.usefulLife,t.salvageValue,t.depreciationMethod]);const r=a=>{const{id:l,value:s}=a.target;i(c=>({...c,[l]:s}))},o=a=>{a.preventDefault(),f(t),i({name:"",category:"",purchaseDate:"",amount:"",vendorName:"",purchaseMode:"",paymentMode:t.purchaseMode==="On Credit"?"On Credit":"",usefulLife:"",salvageValue:"",depreciationMethod:"Straight Line",frequency:"",depreciationRate:"",assetLocation:"",tagSerialNumber:""})};return e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"name",children:"Asset Name"}),e.jsx(d,{id:"name",placeholder:"e.g., Laptop, Office Desk",value:t.name,onChange:r})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"tagSerialNumber",children:"Tag/Serial Number"}),e.jsx(d,{id:"tagSerialNumber",placeholder:"e.g., SN123456",value:t.tagSerialNumber,onChange:r})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"category",children:"Asset Category"}),e.jsx(d,{id:"category",placeholder:"e.g., Computer, Furniture",value:t.category,onChange:r})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"purchaseDate",children:"Purchase Date"}),e.jsx(d,{id:"purchaseDate",type:"date",value:t.purchaseDate,onChange:r})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"amount",children:"Purchase Amount"}),e.jsx(d,{id:"amount",type:"number",placeholder:"e.g., 1200.00",value:t.amount,onChange:r})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"vendorName",children:"Vendor Name"}),e.jsx(d,{id:"vendorName",placeholder:"e.g., Tech Solutions Ltd.",value:t.vendorName,onChange:r})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"purchaseMode",children:"Purchase Mode"}),e.jsxs(w,{onValueChange:a=>i(l=>({...l,purchaseMode:a})),value:t.purchaseMode,children:[e.jsx(M,{id:"purchaseMode",children:e.jsx(V,{placeholder:"Select mode"})}),e.jsxs(k,{children:[e.jsx(F,{value:"Cash Purchase",children:"Cash Purchase"}),e.jsx(F,{value:"Bank Purchase",children:"Bank Purchase"}),e.jsx(F,{value:"On Credit",children:"On Credit"})]})]})]}),t.purchaseMode!=="On Credit"&&e.jsxs("div",{children:[e.jsx(x,{htmlFor:"paymentMode",children:"Payment from"}),e.jsxs(w,{onValueChange:a=>i(l=>({...l,paymentMode:a})),value:t.paymentMode,children:[e.jsx(M,{id:"paymentMode",children:e.jsx(V,{placeholder:"Select payment source"})}),e.jsx(k,{children:n.map(a=>e.jsx(F,{value:a.name,children:a.name},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"usefulLife",children:"Useful Life (Years)"}),e.jsx(d,{id:"usefulLife",type:"number",placeholder:"e.g., 5",value:t.usefulLife,onChange:r})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"salvageValue",children:"Salvage Value"}),e.jsx(d,{id:"salvageValue",type:"number",placeholder:"e.g., 100.00",value:t.salvageValue,onChange:r})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"depreciationMethod",children:"Depreciation Method"}),e.jsxs(w,{onValueChange:a=>i(l=>({...l,depreciationMethod:a})),value:t.depreciationMethod,children:[e.jsx(M,{id:"depreciationMethod",children:e.jsx(V,{placeholder:"Select method"})}),e.jsxs(k,{children:[e.jsx(F,{value:"Straight Line",children:"Straight Line"}),e.jsx(F,{value:"Reducing Balance",children:"Reducing Balance"})]})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"frequency",children:"Frequency"}),e.jsxs(w,{onValueChange:a=>i(l=>({...l,frequency:a})),value:t.frequency,children:[e.jsx(M,{id:"frequency",children:e.jsx(V,{placeholder:"Select frequency"})}),e.jsxs(k,{children:[e.jsx(F,{value:"Monthly",children:"Monthly"}),e.jsx(F,{value:"Yearly",children:"Yearly"})]})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"depreciationRate",children:"Depreciation Rate(%)"}),e.jsx(d,{id:"depreciationRate",type:"number",placeholder:"e.g., 10",value:t.depreciationRate,onChange:r,readOnly:t.depreciationMethod==="Straight Line"})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"assetLocation",children:"Asset Location"}),e.jsx(d,{id:"assetLocation",placeholder:"e.g., Head Office",value:t.assetLocation,onChange:r})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(L,{type:"submit",children:"Save Asset"})})]})})},le=[{id:1,assetName:"Dell Laptop",tagNo:"DL-001",method:"Straight Line",frequency:"Monthly",amount:25,debitAcc:"Depreciation Expense",creditAcc:"Accumulated Depreciation",startDate:"2023-01-01",endDate:"2028-01-01"},{id:2,assetName:"Office Chair",tagNo:"OC-001",method:"Straight Line",frequency:"Monthly",amount:2.08,debitAcc:"Depreciation Expense",creditAcc:"Accumulated Depreciation",startDate:"2023-02-01",endDate:"2033-02-01"}],re=({addEntry:f,assets:t})=>{const[i,n]=S.useState({assetId:"",assetName:"",tagNo:"",method:"Straight Line",frequency:"Monthly",timeOfEntry:"Last day of the period",amount:"",debitAcc:"Depreciation Expense",creditAcc:"Accumulated Depreciation",startDate:"",endDate:""}),g=l=>{const{id:s,value:c}=l.target;n(h=>({...h,[s]:c}))},r=(l,s)=>{n(c=>({...c,[l]:s}))},o=l=>{const s=t.find(c=>c.id.toString()===l);if(s){const c=parseFloat(s.amount)||0,h=parseFloat(s.salvageValue)||0,m=parseInt(s.usefulLife,10)||1,u=(c-h)/(m*12);n(v=>({...v,assetId:l,amount:u.toFixed(2),assetName:s.name,tagNo:s.tagSerialNumber}))}},a=l=>{l.preventDefault(),f(i),n({assetId:"",assetName:"",tagNo:"",method:"Straight Line",frequency:"Monthly",timeOfEntry:"Last day of the period",amount:"",debitAcc:"Depreciation Expense",creditAcc:"Accumulated Depreciation",startDate:"",endDate:""})};return e.jsxs("form",{onSubmit:a,className:"grid grid-cols-1 gap-4 py-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"assetId",children:"Select Asset"}),e.jsxs(w,{onValueChange:o,value:i.assetId,children:[e.jsx(M,{children:e.jsx(V,{placeholder:"Select an asset"})}),e.jsx(k,{children:t.map(l=>e.jsxs(F,{value:l.id.toString(),children:[l.name," (",l.tagSerialNumber,")"]},l.id))})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"method",children:"Method"}),e.jsx(d,{id:"method",value:i.method,onChange:g})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"frequency",children:"Frequency"}),e.jsxs(w,{onValueChange:l=>r("frequency",l),value:i.frequency,children:[e.jsx(M,{children:e.jsx(V,{placeholder:"Select frequency"})}),e.jsxs(k,{children:[e.jsx(F,{value:"Monthly",children:"Monthly"}),e.jsx(F,{value:"Yearly",children:"Yearly"})]})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"timeOfEntry",children:"Time of Entry"}),e.jsx(d,{id:"timeOfEntry",value:i.timeOfEntry,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"amount",children:"Amount"}),e.jsx(d,{id:"amount",type:"number",value:i.amount,onChange:g})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"debitAcc",children:"Debit Account"}),e.jsx(d,{id:"debitAcc",value:i.debitAcc,onChange:g})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"creditAcc",children:"Credit Account"}),e.jsx(d,{id:"creditAcc",value:i.creditAcc,onChange:g})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"startDate",children:"Start Date"}),e.jsx(d,{id:"startDate",type:"date",value:i.startDate,onChange:g})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"endDate",children:"End Date"}),e.jsx(d,{id:"endDate",type:"date",value:i.endDate,onChange:g})]}),e.jsx(L,{type:"submit",className:"mt-4",children:"Add Entry"})]})},ne=({assets:f})=>{const[t,i]=S.useState(le),[n,g]=S.useState(!1),r=a=>{i(l=>[...l,{...a,id:l.length+1}]),g(!1)},o=f.reduce((a,l)=>{const s=parseFloat(l.amount)||0,c=parseFloat(l.salvageValue)||0,h=parseInt(l.usefulLife,10)||1,m=(s-c)/(h*12);return a+m},0);return e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs($,{defaultValue:"automatic-entry",className:"w-full mt-4",children:[e.jsxs(G,{children:[e.jsx(R,{value:"automatic-entry",children:"Automatic Entry"}),e.jsx(R,{value:"depreciation-schedule",children:"Depreciation Schedule"})]}),e.jsx(E,{value:"automatic-entry",children:e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Automatic Depreciation Entries"}),e.jsxs(J,{open:n,onOpenChange:g,children:[e.jsx(K,{asChild:!0,children:e.jsxs(L,{size:"sm",children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," Add Automatic Entry"]})}),e.jsxs(W,{className:"sm:max-w-[425px]",children:[e.jsx(X,{children:e.jsx(Z,{children:"Add Automatic Depreciation Entry"})}),e.jsx(re,{addEntry:r,assets:f})]})]})]}),e.jsxs(H,{children:[e.jsx(z,{children:e.jsxs(P,{children:[e.jsx(j,{children:"SL No"}),e.jsx(j,{children:"Asset Name"}),e.jsx(j,{children:"Tag No"}),e.jsx(j,{children:"Method"}),e.jsx(j,{children:"Frequency"}),e.jsx(j,{children:"Amount"}),e.jsx(j,{children:"Debit Acc"}),e.jsx(j,{children:"Credit Acc"}),e.jsx(j,{children:"Start Date"}),e.jsx(j,{children:"End Date"})]})}),e.jsx(Q,{children:t.map((a,l)=>e.jsxs(P,{children:[e.jsx(p,{children:l+1}),e.jsx(p,{children:a.assetName}),e.jsx(p,{children:a.tagNo}),e.jsx(p,{children:a.method}),e.jsx(p,{children:a.frequency}),e.jsx(p,{children:a.amount}),e.jsx(p,{children:a.debitAcc}),e.jsx(p,{children:a.creditAcc}),e.jsx(p,{children:a.startDate}),e.jsx(p,{children:a.endDate})]},a.id))})]}),e.jsx("div",{className:"mt-4 text-right",children:e.jsxs("p",{className:"text-lg",children:["Total Monthly Depreciation: ",e.jsxs("span",{className:"font-bold",children:["$",o.toFixed(2)]})]})})]})}),e.jsx(E,{value:"depreciation-schedule",children:e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-lg",children:"Depreciation Schedule details will be displayed here."})})})]})})},ie=({assets:f,disposeAsset:t})=>{const[i,n]=S.useState(""),[g,r]=S.useState("Sold"),o=a=>{a.preventDefault(),i&&(t(i,g),n(""))};return e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Asset Disposal"}),e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"asset",children:"Select Asset"}),e.jsxs(w,{onValueChange:n,value:i,children:[e.jsx(M,{children:e.jsx(V,{placeholder:"Select an asset to dispose"})}),e.jsx(k,{children:f.map(a=>e.jsx(F,{value:a.id.toString(),children:a.name},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"disposalType",children:"Disposal Type"}),e.jsxs(w,{onValueChange:r,value:g,children:[e.jsx(M,{children:e.jsx(V,{})}),e.jsxs(k,{children:[e.jsx(F,{value:"Sold",children:"Sold"}),e.jsx(F,{value:"Scrapped",children:"Scrapped"})]})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(L,{type:"submit",children:"Dispose Asset"})})]})]})},ce=({assets:f})=>{const t=(g,r)=>{const o="data:text/csv;charset=utf-8,"+Object.keys(g[0]).join(",")+`
`+g.map(l=>Object.values(l).join(",")).join(`
`),a=document.createElement("a");a.setAttribute("href",encodeURI(o)),a.setAttribute("download",r),document.body.appendChild(a),a.click(),document.body.removeChild(a)},i=()=>{t(f,"fixed-asset-register.csv")},n=()=>{const g=f.map(r=>{const o=parseFloat(r.amount)||0,a=parseFloat(r.salvageValue)||0,l=parseInt(r.usefulLife,10)||1,s=(o-a)/(l*12);return{"Asset Name":r.name,"Original Cost":o.toFixed(2),"Salvage Value":a.toFixed(2),"Useful Life (Years)":l,"Monthly Depreciation":s.toFixed(2)}});t(g,"depreciation-schedule.csv")};return e.jsxs("div",{className:"p-4 border rounded-lg",children:["      ",e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Asset Reports"}),"      ",e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["        ",e.jsx(L,{variant:"outline",onClick:i,children:"Fixed Asset Register"}),"        ",e.jsx(L,{variant:"outline",onClick:n,children:"Depreciation Schedule"}),"        ",e.jsx(L,{variant:"outline",children:"Asset Movement Report"}),"        ",e.jsx(L,{variant:"outline",children:"Disposal Report"}),"        ",e.jsx(L,{variant:"outline",children:"Revaluation Report"}),"        ",e.jsx(L,{variant:"outline",children:"Repair & Maintenance History"}),"      "]}),"    "]})},oe=[{id:1,name:"Dell Laptop",category:"Computer",purchaseDate:"2023-01-15",amount:1500,status:"Active",salvageValue:150,usefulLife:5,depreciationMethod:"Straight Line"},{id:2,name:"Office Chair",category:"Furniture",purchaseDate:"2023-02-20",amount:250,status:"Active",salvageValue:25,usefulLife:10,depreciationMethod:"Straight Line"},{id:3,name:"Toyota Corolla",category:"Vehicle",purchaseDate:"2022-11-10",amount:25e3,status:"Sold",salvageValue:2500,usefulLife:7,depreciationMethod:"Straight Line"}],De=()=>{const[f,t]=S.useState(oe),[i,n]=S.useState(!1),g=o=>{t(a=>[...a,{...o,id:a.length+1}]),n(!1)},r=(o,a)=>{t(l=>l.map(s=>s.id===parseInt(o)?{...s,status:a}:s))};return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Fixed Asset Management"}),e.jsxs($,{defaultValue:"register",className:"w-full",children:[e.jsxs(G,{children:[e.jsx(R,{value:"register",children:"Register"}),e.jsx(R,{value:"depreciation",children:"Depreciation"}),e.jsx(R,{value:"disposal",children:"Disposal"}),e.jsx(R,{value:"reports",children:"Reports"})]}),e.jsxs(E,{value:"register",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs(J,{open:i,onOpenChange:n,children:[e.jsx(K,{asChild:!0,children:e.jsxs(L,{children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," Add New Asset"]})}),e.jsxs(W,{className:"sm:max-w-[600px]",children:[e.jsx(X,{children:e.jsx(Z,{children:"Add/Edit Asset"})}),e.jsx(te,{addAsset:g})]})]})}),e.jsx(ae,{assets:f})]}),e.jsx(E,{value:"depreciation",children:e.jsx(ne,{assets:f})}),e.jsx(E,{value:"disposal",children:e.jsx(ie,{assets:f,disposeAsset:r})}),e.jsx(E,{value:"reports",children:e.jsx(ce,{assets:f})})]})]})};export{De as default};
